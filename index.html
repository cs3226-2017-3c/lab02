<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>CS3226 Lab 1 RankList 2017</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/r/bs-3.3.5/jq-2.1.4,dt-1.10.8/datatables.min.css"/>
	<link href="css/navbar.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans|Roboto+Slab" rel="stylesheet">


	<!-- Tablesorter -->

  </head>
  <body>
    <div class="container">
      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">CS3233 Ranklist 2020</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="active"><a href="index.html">Home</a></li>
              <li><a href="help.html">Help</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>
	<div class="row">
		<div class="col-xs-12">
			<table id="test" class="table table-condensed table-hover tablesorter">
			<thead>
				<tr>
					<th width="10px">R</th>
					<th width="70px" class="hidden-xs" onclick= "setAllSameHeight()">Flag</th>
					<th onclick= "setAllSameHeight()">Name</th>
					<th class="hidden-xs hidden-sm" onclick= "setAllSameHeight()">MC</th>
					<th class="hidden-xs hidden-sm" onclick= "setAllSameHeight()">TC</th>
					<th class="hidden-xs" onclick= "setAllSameHeight()">SPE</th>
					<th class="hidden-xs hidden-sm" onclick= "setAllSameHeight()">HW</th>
					<th class="hidden-xs hidden-sm" onclick= "setAllSameHeight()">Bs</th>
					<th class="hidden-xs hidden-sm" onclick= "setAllSameHeight()">KS</th>
					<th class="hidden-xs hidden-sm" onclick= "setAllSameHeight()">Ac</th>
					<th class="hidden-xs" onclick= "setAllSameHeight()">DIL</th>
					<th>Sum</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td id="hej">1</td>
					<td class="hidden-xs"><img src="img/CHN.png" width="25px">CHN</td>
					<td><img src="img/user1.png" height="20px"><img src="img/prof.png" height="15px"><a href="students/d-edwards.html">User 1</a></td>
					<td class="hidden-xs hidden-sm">3</td>
					<td class="hidden-xs hidden-sm">0</td>
					<td class="hidden-xs">3</td>
					<td class="hidden-xs hidden-sm">1.5</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">2</td>
					<td class="hidden-xs hidden-sm">4</td>
					<td class="hidden-xs">8.5</td>
					<td>11.5</td>
				</tr>
				<tr>
					<td>2</td>
					<td class="hidden-xs"><img src="img/SGP.png" width="25px">SGP</td>
					<td><img src="img/user2.png" height="20px"><img src="img/prof.png" height="15px"><a href="students/m-alden.html">User 2</a></td>
					<td class="hidden-xs hidden-sm">3</td>
					<td class="hidden-xs hidden-sm">0</td>
					<td class="hidden-xs">3</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">2</td>
					<td class="hidden-xs hidden-sm">4</td>
					<td class="hidden-xs">8</td>
					<td>11</td>
				</tr>
				<tr>
					<td>3</td>
					<td class="hidden-xs"><img src="img/IDN.png" width="25px">IDN</td>
					<td><img src="img/user3.png" height="20px"><img src="img/prof.png" height="15px"><a href="students/h-caulfield.html">User 3</a></td>
					<td class="hidden-xs hidden-sm">4</td>
					<td class="hidden-xs hidden-sm">0</td>
					<td class="hidden-xs">4</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">4</td>
					<td class="hidden-xs">7</td>
					<td>11</td>
				</tr>
				<tr>
					<td>4</td>
					<td class="hidden-xs"><img src="img/VNM.png" width="25px">VNM</td>
					<td><img src="img/user4.png" height="20px"><img src="img/prof.png" height="15px">User 4</td>
					<td class="hidden-xs hidden-sm">4</td>
					<td class="hidden-xs hidden-sm">0</td>
					<td class="hidden-xs">4</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">3</td>
					<td class="hidden-xs">6</td>
					<td>10</td>
				</tr>
				<tr>
					<td>5</td>
					<td class="hidden-xs"><img src="img/MYS.png" width="25px">MYS</td>
					<td><img src="img/user5.png" height="20px"><img src="img/prof.png" height="15px">User 5</td>
					<td class="hidden-xs hidden-sm">3.5</td>
					<td class="hidden-xs hidden-sm">0</td>
					<td class="hidden-xs">3.5</td>
					<td class="hidden-xs hidden-sm">1.5</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">2</td>
					<td class="hidden-xs hidden-sm">2</td>
					<td class="hidden-xs">6.5</td>
					<td>10</td>
				</tr>
				<tr>
					<td>6</td>
					<td class="hidden-xs"><img src="img/CHN.png" width="25px">CHN</td>
					<td><img src="img/user6.png" height="20px"><img src="img/prof.png" height="15px">User 6</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">0</td>
					<td class="hidden-xs">1</td>
					<td class="hidden-xs hidden-sm">1.5</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">2</td>
					<td class="hidden-xs hidden-sm">4</td>
					<td class="hidden-xs">8.5</td>
					<td>9.5</td>
				</tr>
				<tr>
					<td>7</td>
					<td class="hidden-xs"><img src="img/CHN.png" width="25px">CHN</td>
					<td><img src="img/user7.png" height="20px"><img src="img/prof.png" height="15px">User 7</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">0</td>
					<td class="hidden-xs">1</td>
					<td class="hidden-xs hidden-sm">1.5</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">1</td>
					<td class="hidden-xs hidden-sm">4</td>
					<td class="hidden-xs">7.5</td>
					<td>8.5</td>
				</tr>
			</tbody>
			</table>
		</div>
	</div>
	</div>
	<footer class="site-footer">
		<p class="text-center">Â© CS3233</p>
    </footer>
    	<script type="text/javascript" src="jquery-3.1.1.min.js"></script>
	<script type="text/javascript" src="js/jquery.tablesorter.js"></script>
	<script type="text/javascript">
	$(function()
	{
		$("#test").tablesorter();
	}
	);
	</script>

	<script type="text/javascript">
        $(document).ready(function () {
			var cols = []
			var trs = $('#test tr')
			var data =$.each(trs , function(index, tr){
				$.each($(tr).find("td").not(":first"), function(index, td){
					cols[index] = cols[index] || [];
					cols[index].push($(td).text())
				})
			});
			//color code rank group
			//Class gold and pink
			cols.forEach(function(col, index){
				var max = Math.max.apply(null, col);
				var min = Math.min.apply(null, col)
				$('#test tr').find('td:nth-child(12)').each(function(i, td){
				if($(td).text() == max){
					$(this).parent("tr").css("background-color", "gold")
				}
				if($(td).text() == min){
					$(this).parent("tr").css("background-color", "pink")
				}
				})
			})
			//highlight highest value
			cols.forEach(function(col, index){
				var max = Math.max.apply(null, col);
				$('#test tr').find('td:eq('+(index+1)+')').each(function(i, td){
					$(this).toggleClass('highlighted', +$(td).text() == max)
				})
			})
			//Class silver and brown
			cols.forEach(function(col, index){
				var max = Math.max.apply(null, col);
				var scol = col.filter(function(x){return x != max});
				var smax = Math.max.apply(null, scol);
				
				var tcol = scol.filter(function(x){return x != smax});
				var tmax = Math.max.apply(null, tcol);
				$('#test tr').find('td:nth-child(12)').each(function(i, td){
					if($(td).text() == smax){
						$(this).parent("tr").css("background-color", "silver")
					}
					if($(td).text() == tmax){
						$(this).parent("tr").css("background-color", "#cd7f32")
					}
				})
			})
        });
	</script>

	<script type="text/javascript">
	function setAllSameHeight()
	{
		tablerows = document.getElementById("test").rows;
		for(i=0;i<tablerows.length;i++){
			tablerows[i].style.height = "30px";	
		}
		
	}
	
	</script>
    <script type="text/javascript">
		//Setting row height according to difference between SUMs
		
		var t = document.getElementById("test");

		for(var i=2; i < t.rows.length; i++) {
			var sumi = t.rows[i].cells[11].innerHTML;
			var sumiminus1 = t.rows[i-1].cells[11].innerHTML;
			t.rows[i].style.height = 100*(Math.abs(sumi-sumiminus1)).toString()+"px";

		}
	</script>
  </body>
</html>
